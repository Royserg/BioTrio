<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">

    <head th:replace="fragments/fragments :: head(title='Add Booking')" />

    <!-- Add custom styling -->
    <link rel="stylesheet" th:href="@{/css/add-booking.css}">

    <body>
        <nav th:replace="fragments/fragments :: navbar" />

        <div class="container-fluid">
            <div class="row">
                <nav th:replace="fragments/fragments :: sidebar" />

                <div class="col-10 mt-3 container-fluid">
                    <h4 th:replace="fragments/fragments :: heading(text='Add Booking')" />

                    <!-- List of movies and Calendar with Showings underneath -->
                    <div class="row container mt-4">
                        <div class="col-md-4">
                            <h5>Movies</h5>
                            <ul class="list-group" id="moviesList">
                               <!-- Adding data attribute to each element (id of the movie) -->
                               <li
                                  class="list-group-item"
                                  th:each="movie : ${movieList}"
                                  th:text="${movie.title}"
                                  th:attr="data-id=${movie.id}"
                               ></li>
                            </ul>
                        </div>
                        <div class="col-md-8">
                            <div class="dates-container">
                                <h5>Dates</h5>
                                <ul class="list-group" id="screeningDates"></ul>
                            </div>
                            <div class="times-container mt-2">
                                <h5>Screening times</h5>
                                <ul class="list-group mt-3 screening-times" id="screeningTimes"></ul>
                            </div>

                        </div>
                    </div>

                    <div class="seats-container">
                        <hr>
                        <!-- Seats to select -->
                        <!-- TODO: put Seats: <number> on the left side -->
                        <h4 class="text-center">Seats</h4>
                        <div class="screen mx-auto mb-5"></div>
                        <div class="mt-3 mb-4" id="seats">

                        </div>

                        <div class="row">
                            <div class="footer col-10">
                                <div class="form-container" >
                                    <input class="form-control" placeholder="Phone Number" name="phoneNum" type="text" id="phoneNum"/>
                                </div>
                                <div class="footer-information">
                                    <div>
                                        Tickets: <span id="ticketsCount" class="badge badge-secondary">0</span>
                                    </div>
                                    <div>
                                        Price: <span id="price" class="badge badge-secondary">0</span>
                                    </div>
                                </div>
                                <button class="btn btn-dark" id="bookButton">Book tickets</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!-- jQuery library -->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
        <!-- Popper js for tooltips-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <!-- Bootstrap script -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <!-- Custom script -->
        <script th:src="@{/js/booking/addBooking.js}"></script>
    </body>
</html>